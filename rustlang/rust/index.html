<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MD4C4XX');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/favicon.ico">
    <link rel="icon" type="image/png" href="./assets/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Lập Trình Rust</title>
    
    
<title>Rust | Lập Trình Rust - Rust là gì - Ngôn ngữ Lập Trình Rust - Chia sẻ kiến
thức về ngôn ngữ lập trình Rust</title>



<meta property="og:title" content="Rust">



<meta name="author" content="bichkhe">


<meta property="og:locale" content=" en-US">




<link rel="canonical" href="https://bichkhe.github.io/rustlang/rust/">
<meta property="og:url" content="https://bichkhe.github.io/rustlang/rust/">













<meta name="twitter:card" content="summary">



<meta property="twitter:title" content="Rust">








<script type="application/ld+json">
{
  "author": {
    "@type":"Organization",
	  "name":"bichkhe",
  },
  "description": "",
  "url": "https://bichkhe.github.io/rustlang/rust/",
  "@context":"https://schema.org",
  "@type": "WebPage",
  "headline": "Rust"
  
}
</script>


    
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
        name='viewport' />
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700|Source+Sans+Pro:400,600,700"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!--<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- Main CSS -->
    <link href="https://bichkhe.github.io/main.css" rel="stylesheet" />
        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SZSRX2E9ZJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SZSRX2E9ZJ');
</script>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MD4C4XX" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!--------------------------------------
NAVBAR
--------------------------------------->
    <nav class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
        <div class="container">
            <img class="rounded-circle"
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-2ZRsT-shcy45BsTsjUzWavuKxUdwZbAByQ&usqp=CAU"
                width="70">
            <a class="navbar-brand" href="https://bichkhe.github.io"><strong>Lập
                    Trình Rust</strong></a>

            <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02"
                aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse" id="navbarColor02" style="">
                <ul class="navbar-nav mr-auto d-flex align-items-center">
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io">Intro <span class="sr-only">(current)</span></a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io/rust">Rust <span class="sr-only">(current)</span></a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io/blogs">Blogs <span class="sr-only">(current)</span></a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io/technology">Technology <span class="sr-only">(current)</span></a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io/blockchain">Blockchain <span class="sr-only">(current)</span></a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io/collections">Collections <span class="sr-only">(current)</span></a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="https://bichkhe.github.io/me">Me <span class="sr-only">(current)</span></a>
                    </li>
                    
                </ul>
            </div>
            <img class="navbar-rust-logo rounded-circle"
                src="https://i0.wp.com/phocode.com/wp-content/uploads/2017/09/rust-logo-512x512-blk.png?fit=300%2C300&ssl=1"
                width="70">
        </div>
    </nav>
    <!-- End Navbar -->
    <main>
        

<!--------------------------------------
HEADER
--------------------------------------->






<div class="container">
    <div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
        <div class="h-100 tofront">

            <div class="row justify-content-between">
                <div class="col-md-6 pt-6 pb-6 pr-6 align-self-center">
                    <p class="text-uppercase font-weight-bold">
                        <a class="text-danger" href="./category.html">Stories</a>
                    </p>

                    <h1 class="display-4 secondfont mb-3 font-weight-bold">[Rust] Chuyển đổi giữ String, Vec&lt;u8&gt; và &amp;str</h1>
                    <p class="mb-3">
                        Hôm nay chúng ta sẽ học cách biến đổi qua lại giữa các kiểu String, Vec&lt;u8&gt;, Vec&lt;char&gt; và &amp;str
                    </p>
                    <div class="d-flex align-items-center">
                        <img class="rounded-circle" src="assets/img/demo/avatar2.jpg" width="70">
                        <small class="ml-2">Jane Seymour <span class="text-muted d-block">A few hours ago &middot; 5
                                min. read</span>
                        </small>
                    </div>
                </div>
                <div class="col-md-6 pr-0">
                    <img src="./assets/img/demo/intro.jpg">
                </div>
            </div>

        </div>
    </div>
</div>
<!-- End Header -->

<!--------------------------------------
MAIN
--------------------------------------->
<div class="container pt-4 pb-4">
    <div class="row justify-content-center">
        <div class="col-lg-2 pr-4 mb-4 col-md-12">
            <div class="sticky-top text-center">
                <div class="text-muted">
                    Share this
                </div>
                <div class="share d-inline-block">
                    <!-- AddToAny BEGIN -->
                    <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
                        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
                        <a class="a2a_button_facebook"></a>
                        <a class="a2a_button_twitter"></a>
                    </div>
                    <script async src="https://static.addtoany.com/menu/page.js"></script>
                    <!-- AddToAny END -->
                </div>
            </div>
        </div>
        <div class="col-md-12 col-lg-8">
            <article class="article-post">
                <p><p>Hôm nay chúng ta sẽ học cách biến đổi qua lại giữa chúng. Bài này sẽ khá hữu ích </p>
<h3 id="bien-doi-tu-vec-toi-string-va-str">Biến đổi từ Vec<char> tới String và  &amp;str</h3>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#569cd6;">let</span><span> src1: Vec&lt;</span><span style="color:#569cd6;">char</span><span>&gt; = vec![</span><span style="color:#d69d85;">&#39;j&#39;</span><span>,</span><span style="color:#d69d85;">&#39;{&#39;</span><span>,</span><span style="color:#d69d85;">&#39;&quot;&#39;</span><span>,</span><span style="color:#d69d85;">&#39;i&#39;</span><span>,</span><span style="color:#d69d85;">&#39;m&#39;</span><span>,</span><span style="color:#d69d85;">&#39;m&#39;</span><span>,</span><span style="color:#d69d85;">&#39;y&#39;</span><span>,</span><span style="color:#d69d85;">&#39;&quot;&#39;</span><span>,</span><span style="color:#d69d85;">&#39;}&#39;</span><span>]; 
</span><span>  </span><span style="color:#608b4e;">// to String
</span><span>  </span><span style="color:#569cd6;">let</span><span> string1: String = src1.iter().collect::&lt;String&gt;();  
</span><span>  </span><span style="color:#608b4e;">// to str
</span><span>  </span><span style="color:#569cd6;">let</span><span> str1: </span><span style="color:#569cd6;">&amp;str </span><span>= </span><span style="color:#569cd6;">&amp;</span><span>src1.iter().collect::&lt;String&gt;();
</span><span>  </span><span style="color:#608b4e;">// to vec of byte
</span><span>  </span><span style="color:#569cd6;">let</span><span> byte1: Vec&lt;</span><span style="color:#569cd6;">u8</span><span>&gt; = src1.iter().map(|c| *c </span><span style="color:#569cd6;">as u8</span><span>).collect::&lt;Vec&lt;</span><span style="color:#569cd6;">_</span><span>&gt;&gt;();
</span><span>  println!(</span><span style="color:#d69d85;">&quot;Vec&lt;char&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;"> | String:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, str:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, Vec&lt;u8&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, src1, string1, str1, byte1);
</span><span>
</span></code></pre>
<p>Ở dòng <code>let string1: String = src1.iter().collect::&lt;String&gt;();</code>
// Duyệt qua và gọi hàm collect(). Vì kiểu trả về là T nên ta dùng cú pháp tuborfish ::&lt;&gt; để chỉ rõ kiểu T trả về là gì</p>
<p>Hoặc có thể dùng map để chuyển đổi tới Vec của các bytes</p>
<h3 id="khoi-tao-tu-mang-bytes">Khởi tạo từ mảng bytes</h3>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span>  </span><span style="color:#608b4e;">// -- FROM: vec of bytes --
</span><span>  </span><span style="color:#608b4e;">// in rust, this is a slice
</span><span>  </span><span style="color:#608b4e;">// b - byte, r - raw string, br - byte of raw string
</span><span>  </span><span style="color:#569cd6;">let</span><span> src2: Vec&lt;</span><span style="color:#569cd6;">u8</span><span>&gt; = </span><span style="color:#569cd6;">br</span><span style="color:#d69d85;">#&quot;e{&quot;ddie&quot;}&quot;#</span><span>.to_vec();
</span><span>  </span><span style="color:#608b4e;">// to String
</span><span>  </span><span style="color:#608b4e;">// from_utf8 consume the vector of bytes
</span><span>  </span><span style="color:#569cd6;">let</span><span> string2: String = String::from_utf8(src2.clone()).unwrap();
</span><span>  </span><span style="color:#608b4e;">// to str
</span><span>  </span><span style="color:#569cd6;">let</span><span> str2: </span><span style="color:#569cd6;">&amp;str </span><span>= </span><span style="color:#569cd6;">str</span><span>::from_utf8(</span><span style="color:#569cd6;">&amp;</span><span>src2).unwrap();
</span><span>  </span><span style="color:#608b4e;">// to vec of chars
</span><span>  </span><span style="color:#569cd6;">let</span><span> char2: Vec&lt;</span><span style="color:#569cd6;">char</span><span>&gt; = src2.iter().map(|b| *b </span><span style="color:#569cd6;">as char</span><span>).collect::&lt;Vec&lt;</span><span style="color:#569cd6;">_</span><span>&gt;&gt;();
</span><span>  println!(</span><span style="color:#d69d85;">&quot;Vec&lt;u8&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;"> | String:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, str:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, Vec&lt;char&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, src2, string2, str2, char2);
</span><span>
</span></code></pre>
<p>Giải thích: <code>br#</code> là bắt đầu mảng raw byte, gọi hàm <code>to_vec()</code> để chuyển đổi sang kiểu Vec<u8>
Kiểu String có hàm <code>from_utf8</code> --&gt; trả về String
Một số giải thích ở đây </p>
<pre style="background-color:#1e1e1e;color:#dcdcdc;"><code><span>pub fn from_utf8(vec: Vec&lt;u8, Global&gt;) -&gt; Result&lt;String, FromUtf8Error&gt;
</span><span>Converts a vector of bytes to a String.
</span><span>
</span><span>A string (String) is made of bytes (u8), and a vector of bytes (Vec&lt;u8&gt;) is made of bytes, so this function converts between the two. Not all byte slices are valid Strings, however: String requires that it is valid UTF-8. from_utf8() checks to ensure that the bytes are valid UTF-8, and then does the conversion.
</span><span>
</span><span>If you are sure that the byte slice is valid UTF-8, and you don’t want to incur the overhead of the validity check, there is an unsafe version of this function, from_utf8_unchecked, which has the same behavior but skips the check.
</span><span>
</span><span>This method will take care to not copy the vector, for efficiency’s sake.
</span><span>
</span><span>If you need a &amp;str instead of a String, consider str::from_utf8.
</span><span>
</span><span>The inverse of this method is into_bytes.
</span></code></pre>
<p>Tương tự với kiểu &amp;str</p>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#569cd6;">let</span><span> str2: </span><span style="color:#569cd6;">&amp;str </span><span>= </span><span style="color:#569cd6;">str</span><span>::from_utf8(</span><span style="color:#569cd6;">&amp;</span><span>src2).unwrap();
</span></code></pre>
<h3 id="tu-string">Từ String</h3>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span> </span><span style="color:#608b4e;">// -- FROM: String --
</span><span>  </span><span style="color:#569cd6;">let</span><span> src3: String = String::from(</span><span style="color:#569cd6;">r</span><span style="color:#d69d85;">#&quot;o{&quot;livia&quot;}&quot;#</span><span>);
</span><span>  </span><span style="color:#569cd6;">let</span><span> str3: </span><span style="color:#569cd6;">&amp;str </span><span>= </span><span style="color:#569cd6;">&amp;</span><span>src3;
</span><span>  </span><span style="color:#569cd6;">let</span><span> char3: Vec&lt;</span><span style="color:#569cd6;">char</span><span>&gt; = src3.chars().collect::&lt;Vec&lt;</span><span style="color:#569cd6;">_</span><span>&gt;&gt;();
</span><span>  </span><span style="color:#569cd6;">let</span><span> byte3: Vec&lt;</span><span style="color:#569cd6;">u8</span><span>&gt; = src3.as_bytes().to_vec();
</span><span>  println!(</span><span style="color:#d69d85;">&quot;String:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;"> | str:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, Vec&lt;char&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, Vec&lt;u8&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, src3, str3, char3, byte3);
</span><span>
</span></code></pre>
<p>String gọi hàm as_bytes() hoặc chars() </p>
<h3 id="tu-str">Từ &amp;str</h3>
<pre data-lang="rust" style="background-color:#1e1e1e;color:#dcdcdc;" class="language-rust "><code class="language-rust" data-lang="rust"><span> </span><span style="color:#608b4e;">// -- FROM: str --
</span><span>  </span><span style="color:#569cd6;">let</span><span> src4: </span><span style="color:#569cd6;">&amp;str </span><span>= </span><span style="color:#569cd6;">r</span><span style="color:#d69d85;">#&quot;g{&#39;race&#39;}&quot;#</span><span>;
</span><span>  </span><span style="color:#569cd6;">let</span><span> string4 = String::from(src4);
</span><span>  </span><span style="color:#569cd6;">let</span><span> char4: Vec&lt;</span><span style="color:#569cd6;">char</span><span>&gt; = src4.chars().collect();
</span><span>  </span><span style="color:#569cd6;">let</span><span> byte4: Vec&lt;</span><span style="color:#569cd6;">u8</span><span>&gt; = src4.as_bytes().to_vec();
</span><span>  println!(</span><span style="color:#d69d85;">&quot;str:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;"> | String:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, Vec&lt;char&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">, Vec&lt;u8&gt;:</span><span style="color:#b4cea8;">{:?}</span><span style="color:#d69d85;">&quot;</span><span>, src4, string4, char4, byte4);
</span><span>
</span></code></pre>
<p>Tương tự ta cũng có 2 hàm giống như String: <code>as_bytes</code> và <code>chars</code></p>
<p>Hi vọng là biến đổi qua lại như thế này bạn sẽ không gặp khó khăn khi gặp kiểu này</p>
<p>Còn về ý nghĩa của từng kiểu, cần học và cân nhắc khi sử dụng.</p>
</p>
            </article>
            <div class="border p-5 bg-lightblue">
                <div class="row justify-content-between">
                    <div class="col-md-5 mb-2 mb-md-0">
                        <h5 class="font-weight-bold secondfont">Become a member</h5>
                        Get the latest news right in your inbox. We never spam!
                    </div>
                    <div class="col-md-7">
                        <div class="row">
                            <div class="col-md-12">
                                <input type="text" class="form-control" placeholder="Enter your e-mail address">
                            </div>
                            <div class="col-md-12 mt-2">
                                <button type="submit" class="btn btn-success btn-block">Subscribe</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container pt-4 pb-4">
    <h5 class="font-weight-bold spanborder"><span>Read next</span></h5>
    <div class="row">
        <div class="col-lg-6">
            <div class="card border-0 mb-4 box-shadow h-xl-300">
                <div
                    style="background-image: url(./assets/img/demo/3.jpg); height: 150px; background-size: cover; background-repeat: no-repeat;">
                </div>
                <div class="card-body px-0 pb-0 d-flex flex-column align-items-start">
                    <h2 class="h4 font-weight-bold">
                        <a class="text-dark" href="#">Brain Stimulation Relieves Depression Symptoms</a>
                    </h2>
                    <p class="card-text">
                        Researchers have found an effective target in the brain for electrical stimulation to
                        improve mood in people suffering from depression.
                    </p>
                    <div>
                        <small class="d-block"><a class="text-muted" href="./author.html">Favid Rick</a></small>
                        <small class="text-muted">Dec 12 · 5 min read</small>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="flex-md-row mb-4 box-shadow h-xl-300">
                <div class="mb-3 d-flex align-items-center">
                    <img height="80" src="./assets/img/demo/blog4.jpg">
                    <div class="pl-3">
                        <h2 class="mb-2 h6 font-weight-bold">
                            <a class="text-dark" href="./article.html">Nasa's IceSat space laser makes height maps
                                of Earth</a>
                        </h2>
                        <div class="card-text text-muted small">
                            Jake Bittle in LOVE/HATE
                        </div>
                        <small class="text-muted">Dec 12 · 5 min read</small>
                    </div>
                </div>
                <div class="mb-3 d-flex align-items-center">
                    <img height="80" src="./assets/img/demo/blog5.jpg">
                    <div class="pl-3">
                        <h2 class="mb-2 h6 font-weight-bold">
                            <a class="text-dark" href="./article.html">Underwater museum brings hope to Lake
                                Titicaca</a>
                        </h2>
                        <div class="card-text text-muted small">
                            Jake Bittle in LOVE/HATE
                        </div>
                        <small class="text-muted">Dec 12 · 5 min read</small>
                    </div>
                </div>
                <div class="mb-3 d-flex align-items-center">
                    <img height="80" src="./assets/img/demo/blog6.jpg">
                    <div class="pl-3">
                        <h2 class="mb-2 h6 font-weight-bold">
                            <a class="text-dark" href="./article.html">Sun-skimming probe starts calling home</a>
                        </h2>
                        <div class="card-text text-muted small">
                            Jake Bittle in LOVE/HATE
                        </div>
                        <small class="text-muted">Dec 12 · 5 min read</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Main -->


    </main>
    
    <!--------------------------------------
FOOTER
--------------------------------------->
    <div class="container mt-5">
        <footer class="bg-white border-top p-3 text-muted small">
            <div class="row align-items-center justify-content-between">
                <div>
                    <span class="navbar-brand mr-2"><strong>Lập Trình Rust</strong></span> Copyright &copy;
                    <script>document.write(new Date().getFullYear())</script>
                    . All rights reserved.
                </div>
                <div>
                    Visit <a target="_blank" class="text-secondary font-weight-bold"
                        href="https://www.facebook.com/groups/546307380433651">Cộng đồng Rust Việt Nam</a>
                </div>
            </div>
        </footer>
    </div>
    <!-- End Footer -->
    

    <!--------------------------------------
JAVASCRIPTS
--------------------------------------->
    <script src="./assets/js/vendor/jquery.min.js" type="text/javascript"></script>
    <script src="./assets/js/vendor/popper.min.js" type="text/javascript"></script>
    <script src="./assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
    <script src="./assets/js/functions.js" type="text/javascript"></script>
</body>

</html>
